{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Techdotpk/Desktop/app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/Techdotpk/Desktop/app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport axios from \"axios\";\nexport default {\n  components: {\n    FormalityDocumentsList: function FormalityDocumentsList() {\n      return import(\"../components/popup/FormalityDocumentsList.vue\");\n    }\n  },\n  data: function data() {\n    return {\n      selectedFormalite: null,\n      selectedModif: null,\n      response: [],\n      show: false,\n      lastItem: null,\n      expanded: false,\n      selectedItem: null,\n      additionalFields: [],\n      documents: [],\n      items: [{\n        id: 1,\n        name: \"Immatriculation\",\n        children: [{\n          name: \"SARL\",\n          id: \"62c40e2faba699b309005102\",\n          popup: \"ImmatriculationSARL\"\n        }, {\n          name: \"EURL\",\n          id: \"62c40e2faba699b309005102\",\n          popup: \"ImmatriculationEURL\"\n        }, {\n          name: \"SELARL\",\n          id: \"62c40e33aba699b309005104\",\n          popup: \"ImmatriculationSELARL\"\n        }, {\n          name: \"SCI\",\n          id: \"62c40e1baba699b3090050fe\",\n          popup: \"ImmatriculationSCI\"\n        }, {\n          name: \"SAS\",\n          id: \"62c40e26aba699b309005100\",\n          popup: \"ImmatriculationSAS\"\n        }, {\n          name: \"SELAS\",\n          id: \"62c40e26aba699b309005100\",\n          popup: \"ImmatriculationSELAS\"\n        }]\n      }, {\n        id: 2,\n        name: \"Modification de capital\",\n        children: [{\n          name: \"Augmentation en numéraire\",\n          id: \"62c409112bd68daa69483478\",\n          popup: 'Observation'\n        }, {\n          name: \"Augmentation en nature\",\n          id: \"62c409192bd68daa6948347a\",\n          popup: 'Observation'\n        }, {\n          name: \"Réduction motivée par les pertes\",\n          id: \"62c408c52bd68daa69483472\",\n          popup: 'Observation'\n        }, {\n          name: \"Réduction non motivée par les pertes\",\n          id: \"62c408cf2bd68daa69483474\",\n          popup: 'Observation'\n        }, {\n          name: \"Reconstitution des capitaux propres\",\n          id: \"62c408b52bd68daa69483470\",\n          popup: 'Observation'\n        }, {\n          name: \"Capitaux propres en dessous de la moitié du capital\",\n          id: \"62c408f32bd68daa69483476\",\n          popup: 'Observation'\n        }]\n      }, {\n        id: 3,\n        name: 'Transfert de siège',\n        children: [{\n          name: \"Dans le même ressort\",\n          id: '62c408352bd68daa6948346a',\n          popup: 'TransfertSiege'\n        }, {\n          name: \"Dans un autre ressort\",\n          id: '62c4088f2bd68daa6948346e',\n          popup: 'TransfertSiege'\n        }]\n      }, {\n        id: 4,\n        name: \"Modification de l'objet social\",\n        children: [{\n          name: \"Avec modification des activités\",\n          id: '62c408162bd68daa69483468',\n          popup: 'Observation'\n        }, {\n          name: \"Sans modification des activités\",\n          id: '62c4080e2bd68daa69483466',\n          popup: 'Observation'\n        }]\n      }, {\n        id: 5,\n        name: \"Formalité sans actes\",\n        children: [{\n          name: \"Transfert établissement principal autre ressort\",\n          id: \"62c41ad7aba699b309005113\",\n          popup: \"TransfertEtabPrincipalMemeRessort\"\n        }, {\n          name: \"Transfert établissement secondaire ou complémentaire même ressort\",\n          id: \"62c41b03aba699b309005115\",\n          popup: \"TransfertEtabPrincipalAutreRessort\"\n        }, {\n          name: \"Fermeture d'un établissement complémentaire ou secondaire\",\n          id: \"62c40fadaba699b309005108\",\n          popup: \"FermetureEtabSecondaireComplementaire\"\n        }, {\n          name: \"Ouverture d'un établissement complémentaire\",\n          id: \"62c410baaba699b30900510b\",\n          popup: \"OuvertureEtabComplementaire\"\n        }, {\n          name: \"Ouverture d'un établissement secondaire\",\n          id: \"62c410d5aba699b30900510d\",\n          popup: \"OuvertureEtabSecondaire\"\n        }, {\n          name: \"Prise d'activité\",\n          id: \"62c41110aba699b30900510f\",\n          popup: \"PriseActivite\"\n        }, {\n          name: \"Nom commercial ou enseigne\",\n          id: \"62c406302bd68daa69483456\",\n          popup: \"NomEnseigne\"\n        }, {\n          name: \"Mise en sommeil \",\n          id: \"62c40e86aba699b309005106\",\n          popup: \"MiseEnSommeil\"\n        }]\n      }, {\n        id: 6,\n        name: \"Autres modifications\",\n        children: [{\n          name: \"Modification de la forme juridique\",\n          id: \"62c41b03aba699b309005115\"\n        }, {\n          name: \"Prorogation de la durée de la Personne morale\",\n          id: \"62c4094d2bd68daa6948347e\"\n        }, {\n          name: \"date de clôture\",\n          id: \"62c409332bd68daa6948347c\"\n        }, {\n          name: 'Changement de dénomination sociale',\n          id: '62c404228ce80aac470a1339',\n          popup: 'Observation'\n        }]\n      }, {\n        id: 7,\n        name: \"Dissolution sans poursuite d’activité\",\n        children: [{\n          name: \"Simple\",\n          id: \"62c407ac2bd68daa6948345e\"\n        }, {\n          name: \"Avec réunion de toutes les parts\",\n          id: \"62c407692bd68daa6948345c\"\n        }]\n      }, {\n        id: 8,\n        name: \"Radiation\",\n        children: [{\n          name: \"Radiation simple\",\n          id: \"62c41c76aba699b30900511a\"\n        }, {\n          name: \"Par suite d’une fusion de SARL\",\n          id: \"62c41c9daba699b30900511c\"\n        }, {\n          name: \"Filiale détenue à 100%\",\n          id: \"62c41ce1aba699b30900511e\"\n        }]\n      }]\n    };\n  },\n  methods: {\n    openDialog: function openDialog(item) {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var headers, response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!item.children) {\n                  _context.next = 4;\n                  break;\n                }\n\n                if (_this.lastItem !== item.id - 1) {\n                  _this.expanded = false;\n\n                  _this.$refs.mytreeview.updateAll(_this.expanded);\n\n                  _this.lastItem = item.id - 1;\n                }\n\n                document.querySelectorAll(\".v-treeview-node button\")[item.id - 1].click();\n                return _context.abrupt(\"return\", false);\n\n              case 4:\n                _context.prev = 4;\n                _this.selectedItem = item;\n                headers = {\n                  authorization: \"Bearer \" + _this.$store.state.auth.user.token\n                };\n                _context.next = 9;\n                return axios.get(\"formalite/find?exId=\" + item.id, {\n                  headers: headers\n                });\n\n              case 9:\n                response = _context.sent;\n                _this.documents = response.data.documents;\n                _this.additionalFields = response.data.additionalFields;\n                _this.form = response.data.form;\n                _this.nameTask = response.data.name;\n                _this.show = true;\n                _context.next = 20;\n                break;\n\n              case 17:\n                _context.prev = 17;\n                _context.t0 = _context[\"catch\"](4);\n                console.log(_context.t0);\n\n              case 20:\n                console.log(item);\n\n              case 21:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[4, 17]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["components","FormalityDocumentsList","data","selectedFormalite","selectedModif","response","show","lastItem","expanded","selectedItem","additionalFields","documents","items","id","name","children","popup","methods","openDialog","item","document","querySelectorAll","click","headers","authorization","axios","console"],"sourceRoot":"src/views","sources":["Test.vue"],"sourcesContent":["<template>\n    <div>\n      <v-treeview :items=\"items\" item-key=\"name\" ref=\"mytreeview\">\n        <template v-slot:label=\"{ item }\">\n          <a @click=\"openDialog(item)\">{{ item.name }}</a>\n        </template>\n      </v-treeview>\n      <formality-documents-list\n        v-if=\"show\"\n        :show=\"show\"\n        :nameTask=\"nameTask\"\n        :form=\"form\"\n        :documents=\"documents\"\n        :additionalFields=\"additionalFields\"\n        @close=\"show = false\"\n        :selectedItem=\"selectedItem\"\n      ></formality-documents-list>\n    </div>\n  \n  </template>\n  <script>\n  import axios from \"axios\";\n  export default {\n    components: {\n      FormalityDocumentsList: () =>\n        import(\"../components/popup/FormalityDocumentsList.vue\"),\n    },\n    data() {\n      return {\n        selectedFormalite : null,\n        selectedModif : null,\n        response: [],\n        show: false,\n        lastItem: null,\n        expanded: false,\n        selectedItem: null,\n        additionalFields: [],\n        documents: [],\n        items: [\n          {\n            id: 1,\n            name: \"Immatriculation\",\n            children: [\n              { name: \"SARL\", id: \"62c40e2faba699b309005102\", popup: \"ImmatriculationSARL\" },\n              { name: \"EURL\", id: \"62c40e2faba699b309005102\", popup: \"ImmatriculationEURL\" },\n              { name: \"SELARL\", id: \"62c40e33aba699b309005104\", popup: \"ImmatriculationSELARL\" },\n              { name: \"SCI\", id: \"62c40e1baba699b3090050fe\", popup: \"ImmatriculationSCI\" },\n              { name: \"SAS\", id: \"62c40e26aba699b309005100\", popup: \"ImmatriculationSAS\" },\n              { name: \"SELAS\", id: \"62c40e26aba699b309005100\", popup: \"ImmatriculationSELAS\"  }\n            ],\n          },\n          {\n            id: 2,\n            name: \"Modification de capital\",\n            children: [\n              { name: \"Augmentation en numéraire\", id: \"62c409112bd68daa69483478\", popup: 'Observation' },\n              { name: \"Augmentation en nature\", id: \"62c409192bd68daa6948347a\", popup: 'Observation' },\n              { name: \"Réduction motivée par les pertes\", id: \"62c408c52bd68daa69483472\", popup: 'Observation' },\n              { name: \"Réduction non motivée par les pertes\", id: \"62c408cf2bd68daa69483474\", popup: 'Observation' },\n              { name: \"Reconstitution des capitaux propres\", id: \"62c408b52bd68daa69483470\", popup: 'Observation' },\n              { name: \"Capitaux propres en dessous de la moitié du capital\", id: \"62c408f32bd68daa69483476\", popup: 'Observation' },\n            ],\n          },\n          {\n            id : 3,\n            name : 'Transfert de siège',\n            children: [\n              { name : \"Dans le même ressort\", id : '62c408352bd68daa6948346a', popup: 'TransfertSiege'},\n              { name : \"Dans un autre ressort\", id : '62c4088f2bd68daa6948346e', popup: 'TransfertSiege'}\n            ]\n          },\n          {\n            id : 4,\n            name: \"Modification de l'objet social\",\n            children: [\n              { name: \"Avec modification des activités\", id : '62c408162bd68daa69483468', popup : 'Observation'},\n              { name: \"Sans modification des activités\", id : '62c4080e2bd68daa69483466', popup : 'Observation'}\n            ]\n          },\n          {\n            id: 5,\n            name: \"Formalité sans actes\",\n            children: [\n              { name: \"Transfert établissement principal autre ressort\", id: \"62c41ad7aba699b309005113\", popup: \"TransfertEtabPrincipalMemeRessort\" },\n              { name: \"Transfert établissement secondaire ou complémentaire même ressort\", id: \"62c41b03aba699b309005115\", popup: \"TransfertEtabPrincipalAutreRessort\" },\n              { name: \"Fermeture d'un établissement complémentaire ou secondaire\", id: \"62c40fadaba699b309005108\", popup: \"FermetureEtabSecondaireComplementaire\" },\n              { name: \"Ouverture d'un établissement complémentaire\", id: \"62c410baaba699b30900510b\", popup: \"OuvertureEtabComplementaire\" },\n              { name: \"Ouverture d'un établissement secondaire\", id: \"62c410d5aba699b30900510d\", popup: \"OuvertureEtabSecondaire\"},\n              { name: \"Prise d'activité\", id: \"62c41110aba699b30900510f\", popup: \"PriseActivite\"},\n              { name: \"Nom commercial ou enseigne\", id: \"62c406302bd68daa69483456\", popup: \"NomEnseigne\"},\n              { name: \"Mise en sommeil \", id: \"62c40e86aba699b309005106\", popup: \"MiseEnSommeil\"}\n            ],\n          },\n          {\n            id: 6,\n            name: \"Autres modifications\",\n            children: [\n              { name: \"Modification de la forme juridique\", id: \"62c41b03aba699b309005115\"},\n              { name: \"Prorogation de la durée de la Personne morale\", id: \"62c4094d2bd68daa6948347e\"},\n              { name: \"date de clôture\", id: \"62c409332bd68daa6948347c\" },\n              { name: 'Changement de dénomination sociale', id: '62c404228ce80aac470a1339', popup: 'Observation' }\n            ],\n          },\n          {\n            id: 7,\n            name: \"Dissolution sans poursuite d’activité\",\n            children: [\n              { name: \"Simple\", id: \"62c407ac2bd68daa6948345e\" },\n              { name: \"Avec réunion de toutes les parts\", id: \"62c407692bd68daa6948345c\" },\n            ],\n          },\n          {\n            id: 8,\n            name: \"Radiation\",\n            children: [\n              { name: \"Radiation simple\", id: \"62c41c76aba699b30900511a\" },\n              { name: \"Par suite d’une fusion de SARL\", id: \"62c41c9daba699b30900511c\"},\n              { name: \"Filiale détenue à 100%\", id: \"62c41ce1aba699b30900511e\" },\n            ],\n          },\n        ],\n      };\n    },\n    methods: {\n      async openDialog(item) {\n        if (item.children) {\n          if (this.lastItem !== item.id - 1) {\n            this.expanded = false;\n            this.$refs.mytreeview.updateAll(this.expanded);\n            this.lastItem = item.id - 1;\n          }\n          document\n            .querySelectorAll(\".v-treeview-node button\")\n            [item.id - 1].click();\n          return false;\n        }\n        try {\n          this.selectedItem = item;\n          const headers = {\n            authorization: \"Bearer \" + this.$store.state.auth.user.token,\n          };\n          let response = await axios.get(\"formalite/find?exId=\" + item.id, {\n            headers,\n          });\n          this.documents = response.data.documents;\n          this.additionalFields = response.data.additionalFields;\n          this.form = response.data.form;\n          this.nameTask = response.data.name;\n          this.show = true;\n        } catch (err) {\n          console.log(err);\n        }\n        console.log(item);\n      },\n    },\n  };\n  </script>\n  \n  \n  <style>\n    .select {\n      max-width: 60px;\n      max-height: 60px;\n      font-size: 11px;\n    }\n  \n  </style>"]},"metadata":{},"sourceType":"module"}