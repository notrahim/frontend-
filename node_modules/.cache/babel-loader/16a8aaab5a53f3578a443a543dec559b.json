{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Techdotpk/Desktop/app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _toConsumableArray from \"C:/Users/Techdotpk/Desktop/app/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"C:/Users/Techdotpk/Desktop/app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport { use } from \"echarts/core\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { PieChart } from \"echarts/charts\";\nimport { TooltipComponent, LegendComponent, TitleComponent } from \"echarts/components\";\nimport VChart from \"vue-echarts\";\nuse([CanvasRenderer, PieChart, TooltipComponent, LegendComponent, TitleComponent]);\nexport default {\n  components: {\n    VChart: VChart\n  },\n  props: ['fetchData'],\n  data: function data() {\n    return {\n      values: [],\n      immatriculations: this.immatriculations,\n      datesArray: [],\n      option: {\n        series: [{\n          data: [],\n          name: \"Access From\",\n          type: \"pie\",\n          radius: [\"40%\", \"70%\"],\n          center: [\"50%\", \"50%\"],\n          textAlign: \"center\",\n          avoidLabelOverlap: true,\n          itemStyle: {\n            borderRadius: 10,\n            borderColor: \"#e5e5e5\",\n            borderWidth: 5\n          },\n          label: {\n            show: true,\n            formatter: \"{b}\\n{c}\",\n            alignTo: \"edge\",\n            minMargin: 10,\n            lineHeight: 25,\n            edgeDistance: 30,\n            fontSize: 14,\n            fontWeight: 700,\n            color: \"black\",\n            fontStyle: \"italic\"\n          },\n          labelLine: {\n            length: 15,\n            length2: 0,\n            maxSurfaceAngle: 80\n          },\n          labelLayout: function labelLayout(params) {\n            var isLeft = params.labelRect.x < 400 / 2;\n            var points = params.labelLinePoints;\n            points[2][0] = isLeft ? params.labelRect.x : params.labelRect.x + params.labelRect.width;\n            return {\n              labelLinePoints: points\n            };\n          }\n        }, {\n          name: \"Access From\",\n          type: \"pie\",\n          radius: [\"40%\", \"70%\"],\n          center: [\"50%\", \"50%\"],\n          textAlign: \"center\",\n          avoidLabelOverlap: true,\n          itemStyle: {\n            borderRadius: 10,\n            borderColor: \"#e5e5e5\",\n            borderWidth: 5\n          },\n          label: {\n            show: false,\n            verticalAlign: \"middle\",\n            align: \"center\",\n            position: \"center\"\n          },\n          emphasis: {\n            label: {\n              show: true,\n              fontSize: \"25\",\n              fontWeight: 900,\n              formatter: \"{d}%\",\n              backgroundColor: \"#e5e5e5\"\n            }\n          },\n          data: []\n        }],\n        color: [\"rgba(240,164,67,0.4)\", \"rgba(240,164,67,0.8)\", \"rgba(49,54,203,0.4)\", \"rgba(49,54,203,0.8)\"],\n        title: {\n          show: true,\n          x: \"center\",\n          y: \"center\"\n        }\n      }\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _this$option$series$, _this$option$series$2;\n\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.formalityChart();\n\n            case 2:\n              console.log(\"FetchData\", _this.immatriculations);\n              _this.values = [{\n                value: _this.immatriculations.length,\n                name: \"Immatriculations\"\n              }, {\n                value: _this.modifications.length,\n                name: \"Modifications\"\n              }, {\n                value: _this.radiations.length,\n                name: \"Radiations\"\n              }, {\n                value: _this.regularisations.length,\n                name: \"Regularisations\"\n              }];\n\n              (_this$option$series$ = _this.option.series[0].data).push.apply(_this$option$series$, _toConsumableArray(_this.values));\n\n              (_this$option$series$2 = _this.option.series[1].data).push.apply(_this$option$series$2, _toConsumableArray(_this.values));\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    mouseOver: function mouseOver() {\n      this.option.title.show = false;\n    },\n    mouseOut: function mouseOut() {\n      this.option.title.show = true;\n    },\n    formalityChart: function formalityChart() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this2.eventsObjects = _this2.fetchData.map(function (value) {\n                  return {\n                    formaliteType: value.formaliteType\n                  };\n                });\n                _this2.immatriculations = _this2.eventsObjects.filter(function (value) {\n                  return value.formaliteType === 'immatriculation';\n                });\n                _this2.modifications = _this2.eventsObjects.filter(function (value) {\n                  return value.formaliteType === 'modification';\n                });\n                _this2.radiations = _this2.eventsObjects.filter(function (value) {\n                  return value.formaliteType === 'radiation';\n                });\n                _this2.regularisations = _this2.eventsObjects.filter(function (value) {\n                  return value.formaliteType === 'regularisation';\n                });\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;AAWA;AACA;AACA;AACA,SACAA,gBADA,EAEAC,eAFA,EAGAC,cAHA,QAIA,oBAJA;AAKA;AAEAC,KACAC,cADA,EAEAC,QAFA,EAGAL,gBAHA,EAIAC,eAJA,EAKAC,cALA;AAOA;EACAI;IAAAC;EAAA,CADA;EAEAC,oBAFA;EAGAC,IAHA,kBAGA;IAAA;MACAC,UADA;MAEAC,uCAFA;MAGAC,cAHA;MAIAC;QACAC,SACA;UAAAL;UACAM,mBADA;UAEAC,WAFA;UAGAC,sBAHA;UAIAC,sBAJA;UAKAC,mBALA;UAMAC,uBANA;UAOAC;YACAC,gBADA;YAEAC,sBAFA;YAGAC;UAHA,CAPA;UAYAC;YACAC,UADA;YAEAC,qBAFA;YAGAC,eAHA;YAIAC,aAJA;YAKAC,cALA;YAMAC,gBANA;YAOAC,YAPA;YAQAC,eARA;YASAC,cATA;YAUAC;UAVA,CAZA;UAwBAC;YACAC,UADA;YAEAC,UAFA;YAGAC;UAHA,CAxBA;UA6BAC;YACA;YACA;YACAC,wBACAC,kBADA,GAEAA,2CAFA;YAGA;cACAC;YADA;UAGA;QAtCA,CADA,EAyCA;UACA5B,mBADA;UAEAC,WAFA;UAGAC,sBAHA;UAIAC,sBAJA;UAKAC,mBALA;UAMAC,uBANA;UAOAC;YACAC,gBADA;YAEAC,sBAFA;YAGAC;UAHA,CAPA;UAYAC;YACAC,WADA;YAEAkB,uBAFA;YAGAC,eAHA;YAIAC;UAJA,CAZA;UAkBAC;YACAtB;cACAC,UADA;cAEAM,cAFA;cAGAC,eAHA;cAIAN,iBAJA;cAKAqB;YALA;UADA,CAlBA;UA2BAvC;QA3BA,CAzCA,CADA;QAwEAyB,QACA,sBADA,EAEA,sBAFA,EAGA,qBAHA,EAIA,qBAJA,CAxEA;QA8EAe;UACAvB,UADA;UAEAwB,WAFA;UAGAC;QAHA;MA9EA;IAJA;EAwFA,CA3FA;EA4FAC,OA5FA,qBA4FA;IAAA;;IAAA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACA,sBADA;;YAAA;cAEAC;cACA,gBACA;gBAAAC;gBAAAvC;cAAA,CADA,EAEA;gBAAAuC;gBAAAvC;cAAA,CAFA,EAGA;gBAAAuC;gBAAAvC;cAAA,CAHA,EAIA;gBAAAuC;gBAAAvC;cAAA,CAJA;;cAKA;;cACA;;YATA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAUA,CAtGA;EAuGAwC;IACAC,SADA,uBACA;MACA;IACA,CAHA;IAIAC,QAJA,sBAIA;MACA;IACA,CANA;IAOAC,cAPA,4BAOA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;kBACA;oBACAC;kBADA;gBAGA,CAJA;gBAKA;kBAAA;gBAAA;gBACA;kBAAA;gBAAA;gBACA;kBAAA;gBAAA;gBACA;kBAAA;gBAAA;;cATA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAUA;EAjBA;AAvGA","names":["TooltipComponent","LegendComponent","TitleComponent","use","CanvasRenderer","PieChart","components","VChart","props","data","values","immatriculations","datesArray","option","series","name","type","radius","center","textAlign","avoidLabelOverlap","itemStyle","borderRadius","borderColor","borderWidth","label","show","formatter","alignTo","minMargin","lineHeight","edgeDistance","fontSize","fontWeight","color","fontStyle","labelLine","length","length2","maxSurfaceAngle","labelLayout","points","params","labelLinePoints","verticalAlign","align","position","emphasis","backgroundColor","title","x","y","mounted","console","value","methods","mouseOver","mouseOut","formalityChart","formaliteType"],"sourceRoot":"src/components/widget/Formalities","sources":["FormalityChart.vue"],"sourcesContent":["<template>\n  <v-chart\n    class=\"chart\"\n    :option=\"option\"\n    autoresize\n    v-on:mouseover=\"mouseOver\"\n    v-on:mouseout=\"mouseOut\"\n  ></v-chart>\n</template>\n\n<script>\nimport { use } from \"echarts/core\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { PieChart } from \"echarts/charts\";\nimport {\n  TooltipComponent,\n  LegendComponent,\n  TitleComponent,\n} from \"echarts/components\";\nimport VChart from \"vue-echarts\";\n\nuse([\n  CanvasRenderer,\n  PieChart,\n  TooltipComponent,\n  LegendComponent,\n  TitleComponent,\n]);\nexport default {\n  components: { VChart },\n  props:['fetchData'],\n  data(){ return {\n    values:[],\n    immatriculations: this.immatriculations,\n    datesArray: [],\n    option: {\n      series: [\n        {  data: [],\n          name: \"Access From\",\n          type: \"pie\",\n          radius: [\"40%\", \"70%\"],\n          center: [\"50%\", \"50%\"],\n          textAlign: \"center\",\n          avoidLabelOverlap: true,\n          itemStyle: {\n            borderRadius: 10,\n            borderColor: \"#e5e5e5\",\n            borderWidth: 5,\n          },\n          label: {\n            show: true,\n            formatter: \"{b}\\n{c}\",\n            alignTo: \"edge\",\n            minMargin: 10,\n            lineHeight: 25,\n            edgeDistance: 30,\n            fontSize: 14,\n            fontWeight: 700,\n            color: \"black\",\n            fontStyle: \"italic\",\n          },\n          labelLine: {\n            length: 15,\n            length2: 0,\n            maxSurfaceAngle: 80,\n          },\n          labelLayout: function (params) {\n            const isLeft = params.labelRect.x < 400 / 2;\n            const points = params.labelLinePoints;\n            points[2][0] = isLeft\n              ? params.labelRect.x\n              : params.labelRect.x + params.labelRect.width;\n            return {\n              labelLinePoints: points,\n            };\n          },    \n        },\n        {\n          name: \"Access From\",\n          type: \"pie\",\n          radius: [\"40%\", \"70%\"],\n          center: [\"50%\", \"50%\"],\n          textAlign: \"center\",\n          avoidLabelOverlap: true,\n          itemStyle: {\n            borderRadius: 10,\n            borderColor: \"#e5e5e5\",\n            borderWidth: 5,\n          },\n          label: {\n            show: false,\n            verticalAlign: \"middle\",\n            align: \"center\",\n            position: \"center\",\n          },\n          emphasis: {\n            label: {\n              show: true,\n              fontSize: \"25\",\n              fontWeight: 900,\n              formatter: \"{d}%\",\n              backgroundColor: \"#e5e5e5\",\n            },\n          },\n          data: [],\n        },\n      ],\n      color: [\n        \"rgba(240,164,67,0.4)\",\n        \"rgba(240,164,67,0.8)\",\n        \"rgba(49,54,203,0.4)\",\n        \"rgba(49,54,203,0.8)\",\n      ],\n      title: {\n        show: true,\n        x: \"center\",\n        y: \"center\",\n      },\n    },\n  }},\n  async mounted() {\n      await this.formalityChart()\n     console.log(\"FetchData\" , this.immatriculations)   \n    this.values =[\n      { value : this.immatriculations.length , name:\"Immatriculations\" } , \n      { value : this.modifications.length, name:\"Modifications\"} , \n      { value :this.radiations.length , name:\"Radiations\" } ,\n      {value :this.regularisations.length, name :\"Regularisations\"}]\n    this.option.series[0].data.push(...this.values)\n    this.option.series[1].data.push(...this.values)\n  },\n  methods: {\n    mouseOver() {\n      this.option.title.show = false;\n    },\n    mouseOut() {\n      this.option.title.show = true;\n    },\n    async formalityChart() {\n        this.eventsObjects =this.fetchData.map(function (value) {\n          return {\n            formaliteType: value.formaliteType,\n          };\n        });\n        this.immatriculations = this.eventsObjects.filter((value) =>  value.formaliteType === 'immatriculation');\n        this.modifications = this.eventsObjects.filter((value) =>  value.formaliteType === 'modification');\n        this.radiations = this.eventsObjects.filter((value) =>  value.formaliteType === 'radiation');\n        this.regularisations = this.eventsObjects.filter((value) =>  value.formaliteType === 'regularisation');\n      }\n    },\n};\n</script>\n\n<style>\n.chart {\n  width: 100%;\n  height: 400px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}